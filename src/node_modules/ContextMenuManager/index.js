var THREE = require('three');

function ContextMenuManager(app) {
	this.app = app;
	this.showContextMenu = this.showContextMenu.bind(this);
	this.waitingTimeoutId = null;
}

var waitDuration = 300;
ContextMenuManager.prototype.showContextMenu = function() {
	var helper = new THREE.AxisHelper(1);
	this.app.view.scene.add(helper);
	this.waitingTimeoutId = null;
};
ContextMenuManager.prototype.beginWait = function(context) {
	this.optionsContext = context;
	this.waitingTimeoutId = setTimeout(this.showContextMenu, waitDuration);
};
ContextMenuManager.prototype.abortWait = function() {
	if(this.waitingTimeoutId !== null) {
		clearTimeout(this.waitingTimeoutId);
		this.waitingTimeoutId = null;
	}
};

module.exports = ContextMenuManager;
