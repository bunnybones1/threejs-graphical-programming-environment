var THREE = require('three');

function SelectionManager(app) {
	this.app = app;
	this.selected = [];
}

SelectionManager.prototype.selectObject = function(item) {
	if(this.selected.indexOf(item) !== -1) {
		return;
	}
	this.selected.push(item);
	if(!item.positionBackup) {
		item.positionBackup = new THREE.Vector3();
	}
	item.positionBackup.copy(item.position);
	if(item.highlight) item.highlight();
};

SelectionManager.prototype.unselectObject = function(item) {
	var index = this.selected.indexOf(item);
	if(index !== -1) {
		this.selected.splice(index, 1);
		if(item.unhighlight) item.unhighlight();
	}
};

SelectionManager.prototype.unselectAll = function() {
	for (var i = this.selected.length - 1; i >= 0; i--) {
		this.unselectObject(this.selected[i]);
	}
};


module.exports = SelectionManager;
